/*
 *  /MathJax/jax/output/CommonHTML/jax.js
 *
 *  Copyright (c) 2009-2015 The MathJax Consortium
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */

(function(i,c,f,g){var h;var l,b,d;var e=1,j=0.025,a=0.025;var o={".mjx-chtml":{display:"inline-block","line-height":0,"text-indent":0,"text-align":"left","text-transform":"none","font-style":"normal","font-weight":"normal","font-size":"100%","font-size-adjust":"none","letter-spacing":"normal","word-wrap":"normal","word-spacing":"normal","white-space":"nowrap","float":"none",direction:"ltr","max-width":"none","max-height":"none","min-width":0,"min-height":0,border:0,margin:0,padding:"1px 0"},".MJXc-display":{display:"block","text-align":"center",margin:"1em 0",padding:0},".mjx-chtml[tabindex]:focus, *:focus .mjx-chtml[tabindex]":{display:"inline-table"},".mjx-math":{display:"inline-block","border-collapse":"separate","border-spacing":0,},".mjx-math *":{display:"inline-block","text-align":"left"},".mjx-numerator":{display:"block","text-align":"center"},".mjx-denominator":{display:"block","text-align":"center"},".MJXc-fpad":{"padding-left":".1em","padding-right":".1em"},".MJXc-bevelled > *":{display:"inline-block"},".mjx-stack":{display:"inline-block"},".mjx-op":{display:"block"},".mjx-under":{display:"table-cell"},".mjx-over":{display:"block"},".mjx-over > *":{"padding-left":"0px!important","padding-right":"0px!important"},".mjx-under > *":{"padding-left":"0px!important","padding-right":"0px!important"},".mjx-stack > .mjx-sup":{display:"block"},".mjx-stack > .mjx-sub":{display:"block"},".mjx-prestack > .mjx-presup":{display:"block"},".mjx-prestack > .mjx-presub":{display:"block"},".mjx-delim-v > .mjx-char":{transform:"scale(1)"},".mjx-delim-h":{display:"block"},".mjx-delim-h > .mjx-char":{transform:"scale(1)",display:"inline-block"},".mjx-surd":{"vertical-align":"top"},".mjx-mphantom *":{visibility:"hidden"},".mjx-merror":{"background-color":"#FFFF88",color:"#CC0000",border:"1px solid #CC0000",padding:"2px 3px","font-style":"normal","font-size":"90%"},".mjx-annotation-xml":{"line-height":"normal"},".mjx-menclose > svg":{fill:"none",stroke:"currentColor"},".mjx-mtr":{display:"table-row"},".mjx-mlabeledtr":{display:"table-row"},".mjx-mtd":{display:"table-cell","text-align":"center"},".mjx-label":{display:"block"},".mjx-box":{display:"inline-block"},".mjx-block":{display:"block"},".mjx-span":{display:"span"},".mjx-char":{display:"block","white-space":"pre"},".mjx-itable":{display:"inline-table"},".mjx-row":{display:"table-row"},".mjx-cell":{display:"table-cell"},".mjx-table":{display:"table",width:"100%"},".mjx-line":{display:"block",width:"100%","border-top":"0 solid"},".mjx-strut":{width:0,"padding-top":e+"em"},".MJXc-space1":{"margin-left":".167em"},".MJXc-space2":{"margin-left":".222em"},".MJXc-space3":{"margin-left":".278em"},".mjx-chartest":{display:"block",visibility:"hidden",position:"absolute",top:0,"line-height":"normal","font-size":"500%"},".mjx-chartest .mjx-char":{display:"inline"},".mjx-chartest .mjx-box":{"padding-top":"1000px"},".MJXc-processing":{visibility:"hidden",position:"fixed",width:0,height:0,overflow:"hidden"},".MJXc-processed":{display:"none"},".mjx-test":{display:"block","font-style":"normal","font-weight":"normal","font-size":"100%","font-size-adjust":"none","text-indent":0,"text-transform":"none","letter-spacing":"normal","word-spacing":"normal",overflow:"hidden",height:"1px"},".mjx-ex-box-test":{position:"absolute",width:"1px",height:"60ex"},"#MathJax_CHTML_Tooltip":{"background-color":"InfoBackground",color:"InfoText",border:"1px solid black","box-shadow":"2px 2px 5px #AAAAAA","-webkit-box-shadow":"2px 2px 5px #AAAAAA","-moz-box-shadow":"2px 2px 5px #AAAAAA","-khtml-box-shadow":"2px 2px 5px #AAAAAA",padding:"3px 4px","z-index":401,position:"absolute",left:0,top:0,width:"auto",height:"auto",display:"none"}};var m=1000000;var k={},n=MathJax.Hub.config;g.Augment({settings:c.config.menuSettings,config:{styles:o},Config:function(){if(!this.require){this.require=[]}this.SUPER(arguments).Config.call(this);var p=this.settings;if(p.scale){this.config.scale=p.scale}this.require.push(this.fontDir+"/TeX/fontdata.js");this.require.push(MathJax.OutputJax.extensionDir+"/MathEvents.js");k=this.config.linebreaks},Startup:function(){l=MathJax.Extension.MathEvents.Event;b=MathJax.Extension.MathEvents.Touch;d=MathJax.Extension.MathEvents.Hover;this.ContextMenu=l.ContextMenu;this.Mousedown=l.AltContextMenu;this.Mouseover=d.Mouseover;this.Mouseout=d.Mouseout;this.Mousemove=d.Mousemove;var p=g.addElement(document.body,"mjx-block",{style:{display:"block",width:"5in"}});this.pxPerInch=p.offsetWidth/5;p.parentNode.removeChild(p);this.TestSpan=g.Element("mjx-test",{style:{left:"1em"}},[["mjx-ex-box-test"]]);return i.Styles(this.config.styles,["InitializeCHTML",this])},InitializeCHTML:function(){this.getDefaultExEm();if(this.defaultEm){return}var p=MathJax.Callback();i.timer.start(i,function(q){if(q.time(p)){c.signal.Post(["CommonHTML Jax - no default em size"]);return}g.getDefaultExEm();if(g.defaultEm){p()}else{setTimeout(q,q.delay)}},this.defaultEmDelay,this.defaultEmTimeout);return p},defaultEmDelay:100,defaultEmTimeout:1000,getDefaultExEm:function(){document.body.appendChild(this.TestSpan);this.defaultEm=this.getFontSize(this.TestSpan);this.defaultEx=this.TestSpan.firstChild.offsetHeight/60;this.defaultWidth=this.TestSpan.offsetWidth;document.body.removeChild(this.TestSpan)},getFontSize:(window.getComputedStyle?function(q){var p=window.getComputedStyle(q);return parseFloat(p.fontSize)}:function(p){return p.style.pixelLeft}),getMaxWidth:(window.getComputedStyle?function(q){var p=window.getComputedStyle(q);if(p.maxWidth!=="none"){return parseFloat(p.maxWidth)}return 0}:function(q){var p=q.currentStyle.maxWidth;if(p!=="none"){if(p.match(/\d*px/)){return parseFloat(p)}var r=q.style.left;q.style.left=p;p=q.style.pixelLeft;q.style.left=r;return p}return 0}),loadFont:function(p){c.RestartAfter(i.Require(this.fontDir+"/"+p))},fontLoaded:function(p){if(!p.match(/-|fontdata/)){p+="-Regular"}if(!p.match(/\.js$/)){p+=".js"}MathJax.Callback.Queue(["Post",c.Startup.signal,["CommonHTML - font data loaded",p]],["loadComplete",i,this.fontDir+"/"+p])},Element:function(p,r,q){if(p.substr(0,4)==="mjx-"){if(!r){r={}}if(r.isMathJax==null){r.isMathJax=true}if(r.className){r.className=p+" "+r.className}else{r.className=p}p="span"}return this.HTMLElement(p,r,q)},addElement:function(r,p,s,q){return r.appendChild(this.Element(p,s,q))},HTMLElement:f.Element,ucMatch:f.ucMatch,setScript:f.setScript,getNode:(document.getElementsByClassName?function(q,p){return q.getElementsByClassName(p)[0]}:function(u,t){var q=u.getElementsByTagName("span");var r=RegExp("\\b"+t+"\\b");for(var s=0,p=q.length;s<p;s++){if(r.test(q[s].className)){return q[s]}}}),preTranslate:function(q){var y=q.jax[this.id],z,w=y.length,D,x,v,r,C,t;var p=100000,B=false,A=0,E=k.automatic,s=k.width;if(E){B=!!s.match(/^\s*(\d+(\.\d*)?%\s*)?container\s*$/);if(B){s=s.replace(/\s*container\s*/,"")}else{p=this.defaultWidth}if(s===""){s="100%"}}for(z=0;z<w;z++){D=y[z];if(!D.parentNode){continue}x=D.previousSibling;if(x&&x.className&&String(x.className).substr(0,9)==="mjx-chtml"){x.parentNode.removeChild(x)}r=D.MathJax.elementJax;if(!r){continue}r.CHTML={display:(r.root.Get("display")==="block")};v=g.Element("mjx-chtml",{id:r.inputID+"-Frame",isMathJax:true,jaxID:this.id,oncontextmenu:l.Menu,onmousedown:l.Mousedown,onmouseover:l.Mouseover,onmouseout:l.Mouseout,onmousemove:l.Mousemove,onclick:l.Click,ondblclick:l.DblClick,onkeydown:l.Keydown,tabIndex:"0"});if(r.CHTML.display){var u=g.Element("mjx-chtml",{className:"MJXc-display",isMathJax:false});u.appendChild(v);v=u}if(c.Browser.noContextMenu){v.ontouchstart=b.start;v.ontouchend=b.end}v.className+=" MJXc-processing";D.parentNode.insertBefore(v,D);D.parentNode.insertBefore(this.TestSpan.cloneNode(true),D)}for(z=0;z<w;z++){D=y[z];if(!D.parentNode){continue}test=D.previousSibling;r=D.MathJax.elementJax;if(!r){continue}t=g.getFontSize(test);C=test.firstChild.offsetHeight/60;if(C===0||C==="NaN"){C=this.defaultEx}v=test;while(v){A=v.offsetWidth;if(A){break}A=g.getMaxWidth(v);if(A){break}v=v.parentNode}if(B){p=A}scale=(this.config.matchFontHeight?C/this.TEX.x_height/t:1);scale=Math.floor(Math.max(this.config.minScaleAdjust/100,scale)*this.config.scale);r.CHTML.scale=scale/100;r.CHTML.fontSize=scale+"%";r.CHTML.outerEm=t;r.CHTML.em=this.em=t*scale/100;r.CHTML.ex=C;r.CHTML.cwidth=A/this.em;r.CHTML.lineWidth=(E?this.length2em(s,p/this.em,1):p)}for(z=0;z<w;z++){D=y[z];if(!D.parentNode){continue}test=y[z].previousSibling;r=y[z].MathJax.elementJax;if(!r){continue}test.parentNode.removeChild(test)}q.CHTMLeqn=q.CHTMLlast=0;q.CHTMLi=-1;q.CHTMLchunk=this.config.EqnChunk;q.CHTMLdelay=false},Translate:function(q,u){if(!q.parentNode){return}if(u.CHTMLdelay){u.CHTMLdelay=false;c.RestartAfter(MathJax.Callback.Delay(this.config.EqnChunkDelay))}var p=q.MathJax.elementJax,t=p.root,s=document.getElementById(p.inputID+"-Frame");this.getMetrics(p);if(this.scale!==1){s.style.fontSize=p.CHTML.fontSize}this.initCHTML(t,s);this.savePreview(q);this.CHTMLnode=s;try{t.setTeXclass();t.toCommonHTML(s)}catch(r){while(s.firstChild){s.removeChild(s.firstChild)}delete this.CHTMLnode;this.restorePreview(q);throw r}delete this.CHTMLnode;this.restorePreview(q);if(p.CHTML.display){s=s.parentNode}s.className=s.className.replace(/ [^ ]+$/,"");s.className+=" MJXc-processed";if(q.MathJax.preview){p.CHTML.preview=q.MathJax.preview;delete q.MathJax.preview}u.CHTMLeqn+=(u.i-u.CHTMLi);u.CHTMLi=u.i;if(u.CHTMLeqn>=u.CHTMLlast+u.CHTMLchunk){this.postTranslate(u);u.CHTMLchunk=Math.floor(u.CHTMLchunk*this.config.EqnChunkFactor);u.CHTMLdelay=true}},initCHTML:function(q,p){},savePreview:function(p){var q=p.MathJax.preview;if(q&&q.parentNode){p.MathJax.tmpPreview=document.createElement("span");q.parentNode.replaceChild(p.MathJax.tmpPreview,q)}},restorePreview:function(p){var q=p.MathJax.tmpPreview;if(q){q.parentNode.replaceChild(p.MathJax.preview,q);delete p.MathJax.tmpPreview}},getMetrics:function(p){var q=p.CHTML;this.jax=p;this.em=q.em;this.outerEm=q.outerEm;this.scale=q.scale;this.cwidth=q.cwidth;this.linebreakWidth=q.lineWidth},postTranslate:function(u){var q=u.jax[this.id];for(var s=u.CHTMLlast,p=u.CHTMLeqn;s<p;s++){var r=q[s];if(r&&r.MathJax.elementJax){r.previousSibling.className=r.previousSibling.className.replace(/ [^ ]+$/,"");var t=r.MathJax.elementJax.CHTML;if(t.preview){t.preview.innerHTML="";r.MathJax.preview=t.preview;delete t.preview}}}u.CHTMLlast=u.CHTMLeqn},getJaxFromMath:function(p){if(p.parentNode.className.match(/MJXc-display/)){p=p.parentNode}do{p=p.nextSibling}while(p&&p.nodeName.toLowerCase()!=="script");return c.getJaxFor(p)},getHoverSpan:function(p,q){return p.root.CHTMLnodeElement()},getHoverBBox:function(p,s,t){var u=p.root.CHTML,r=p.CHTML.outerEm;var q={w:u.w*r,h:u.h*r,d:u.d*r};if(u.width){q.width=u.width}return q},Zoom:function(r,y,x,p,v){this.getMetrics(r);var s=g.addElement(y,"mjx-chtml",{style:{"font-size":Math.floor(g.scale*100)+"%"},isMathJax:false});this.idPostfix="-zoom";r.root.toCommonHTML(s);this.idPostfix="";var q=s.style,z=r.root.CHTML;if(z.t>z.h){q.marginTop=g.Em(z.t-z.h)}if(z.b>z.d){q.marginBottom=g.Em(z.b-z.d)}if(z.l<0){q.paddingLeft=g.Em(-z.l)}if(z.r>z.w){q.marginRight=g.Em(z.r-z.w)}q.position="absolute";var w=s.offsetWidth,u=s.offsetHeight,A=x.firstChild.offsetHeight,t=x.firstChild.offsetWidth;s.style.position="";return{Y:-l.getBBox(y).h,mW:t,mH:A,zW:w,zH:u}},Remove:function(p){var q=document.getElementById(p.inputID+"-Frame");if(q&&p.CHTML.display){q=q.parentNode}if(q){q.parentNode.removeChild(q)}delete p.CHTML},ID:0,idPostfix:"",GetID:function(){this.ID++;return this.ID},MATHSPACE:{veryverythinmathspace:1/18,verythinmathspace:2/18,thinmathspace:3/18,mediummathspace:4/18,thickmathspace:5/18,verythickmathspace:6/18,veryverythickmathspace:7/18,negativeveryverythinmathspace:-1/18,negativeverythinmathspace:-2/18,negativethinmathspace:-3/18,negativemediummathspace:-4/18,negativethickmathspace:-5/18,negativeverythickmathspace:-6/18,negativeveryverythickmathspace:-7/18,thin:0.04,medium:0.06,thick:0.1,infinity:m},SPACECLASS:{thinmathspace:"MJXc-space1",mediummathspace:"MJXc-space2",thickmathspace:"MJXc-space3"},pxPerInch:96,em:16,FONTDEF:{},TEXDEF:{x_height:0.442,quad:1,num1:0.676508,num2:0.393732,num3:0.44373,denom1:0.685951,denom2:0.344841,sup1:0.412892,sup2:0.362892,sup3:0.288888,sub1:0.15,sub2:0.247217,sup_drop:0.386108,sub_drop:0.05,delim1:2.39,delim2:1,axis_height:0.25,rule_thickness:0.06,big_op_spacing1:0.111111,big_op_spacing2:0.166666,big_op_spacing3:0.2,big_op_spacing4:0.45,big_op_spacing5:0.1,surd_height:0.075,scriptspace:0.05,nulldelimiterspace:0.12,delimiterfactor:901,delimitershortfall:0.3,min_rule_thickness:1.25},unicodeChar:function(p){if(p<65535){return String.fromCharCode(p)}p-=65536;return String.fromCharCode((p>>10)+55296)+String.fromCharCode((p&1023)+56320)},getUnicode:function(p){var q=p.text.charCodeAt(p.i);p.i++;if(q>=55296&&q<56319){q=(((q-55296)<<10)+(p.text.charCodeAt(p.i)-56320))+65536;p.i++}return q},getCharList:function(t,s){var r,x,w=[],p=t.cache,A=s;if(p[s]){return p[s]}var q=this.FONTDATA.RANGES,z=this.FONTDATA.VARIANT;if(s>=q[0].low&&s<=q[q.length-1].high){for(r=0,x=q.length;r<x;r++){if(q[r].name==="alpha"&&t.noLowerCase){continue}var v=t["offset"+q[r].offset];if(v&&s>=q[r].low&&s<=q[r].high){if(q[r].remap&&q[r].remap[s]){s=v+q[r].remap[s]}else{s=s-q[r].low+v;if(q[r].add){s+=q[r].add}}if(t["variant"+q[r].offset]){t=z[t["variant"+q[r].offset]]}break}}}if(t.remap&&t.remap[s]){s=t.remap[s];if(t.remap.variant){t=z[t.remap.variant]}}else{if(this.FONTDATA.REMAP[s]&&!t.noRemap){s=this.FONTDATA.REMAP[s]}}if(s instanceof Array){t=z[s[1]];s=s[0]}if(typeof(s)==="string"){var u={text:s,i:0,length:s.length};while(u.i<u.length){s=this.getUnicode(u);var y=this.getCharList(t,s);if(y){w.push.apply(w,y)}}}else{if(t.cache[s]){w=t.cache[s]}else{t.cache[s]=w=[this.lookupChar(t,s)]}}p[A]=w;return w},lookupChar:function(s,v){var u=s;while(s){for(var r=0,p=s.fonts.length;r<p;r++){var q=this.FONTDATA.FONTS[s.fonts[r]];if(typeof(q)==="string"){this.loadFont(q)}var t=q[v];if(t){if(t.length===5){t[5]={}}if(t.c==null){t[0]/=1000;t[1]/=1000;t[2]/=1000;t[3]/=1000;t[4]/=1000;t.c=this.unicodeChar(v)}if(t[5].space){return{type:"space",w:t[2],font:q}}return{type:"char",font:q,n:v}}else{if(q.Extra){this.findBlock(q,v)}}}s=this.FONTDATA.VARIANT[s.chain]}return this.unknownChar(u,v)},findBlock:function(r,v){var q=r.Extra,s=r.file,u;for(var t=0,p=q.length;t<p;t++){if(typeof(q[t])==="number"){if(v===q[t]){u=s;break}}else{if(v<q[t][0]){return}if(v<=q[t][1]){u=s;break}}}if(u){delete r.Extra;this.loadFont(s)}},unknownChar:function(p,s){c.signal.Post(["CommonHTML Jax - unknown char",s,p]);var r="";if(p.bold){r+="B"}if(p.italic){r+="I"}var q=this.FONTDATA.UNKNOWN[r||"R"];if(!q[s]){this.getUnknownChar(q,s)}return{type:"unknown",n:s,font:q}},getUnknownChar:function(q,s){var r=this.unicodeChar(s);var p=this.getHDW(r,q.className);q[s]=[0.8,0.2,p.w,0,p.w,{a:(p.h-p.d)/2,h:p.h,d:p.d}];q[s].c=r},styledText:function(q,t){c.signal.Post(["CommonHTML Jax - styled text",t,q]);var r=q.style;var u="_"+(r["font-family"]||q.className||"");if(r["font-weight"]){u+="_"+r["font-weight"]}if(r["font-style"]){u+="_"+r["font-style"]}if(!this.STYLEDTEXT){this.STYLEDTEXT={}}if(!this.STYLEDTEXT[u]){this.STYLEDTEXT[u]={className:q.className||""}}var s=this.STYLEDTEXT[u];if(!s["_"+t]){var p=this.getHDW(t,q.className||"",r);s["_"+t]=[0.8,0.2,p.w,0,p.w,{a:(p.h-p.d)/2,h:p.h,d:p.d}];s["_"+t].c=t}return{type:"unknown",n:"_"+t,font:s,style:r,rscale:q.rscale}},getHDW:function(v,r,y){var q=g.addElement(g.CHTMLnode,"mjx-chartest",{className:r},[["mjx-char",{style:y},[v]]]);var p=g.addElement(g.CHTMLnode,"mjx-chartest",{className:r},[["mjx-char",{style:y},[v,["mjx-box"]]]]);q.firstChild.style.fontSize=p.firstChild.style.fontSize="";var s=5*g.em;var u=(p.offsetHeight-1000)/s;var x=q.offsetWidth/s,t=q.offsetHeight/s-u;g.CHTMLnode.removeChild(q);g.CHTMLnode.removeChild(p);return{h:t,d:u,w:x}},addCharList:function(s,u,v){var t={text:"",className:null,a:0};for(var q=0,p=u.length;q<p;q++){var r=u[q];if(this.charList[r.type]){(this.charList[r.type])(r,s,v,t,p)}}if(t.text!==""){if(s.childNodes.length){this.charList.flushText(s,t)}else{f.addText(s,t.text);if(s.className){s.className+=" "+t.className}else{s.className=t.className}}}v.b=(t.flushed?0:v.a)},charList:{"char":function(s,r,v,t,p){var q=s.font;if(t.className&&q.className!==t.className){this.flushText(r,t)}if(!t.a){t.a=q.centerline/1000}if(t.a>(v.a||0)){v.a=t.a}var u=q[s.n];t.text+=u.c;t.className=q.className;if(v.h<u[0]+j){v.t=v.h=u[0]+j}if(v.d<u[1]+a){v.b=v.d=u[1]+a}if(v.l>v.w+u[3]){v.l=v.w+u[3]}if(v.r<v.w+u[4]){v.r=v.w+u[4]}v.w+=u[2]*(s.rscale||1);if(p==1&&q.skew&&q.skew[s.n]){v.skew=q.skew[s.n]}if(u[5].rfix){this.flushText(r,t).style.marginRight=g.Em(u[5].rfix/1000)}},space:function(q,p,s,r){if(q.w){if(r.text===""){r.className=q.font.className}this.flushText(p,r).style.marginRight=g.Em(q.w);s.w+=q.w}},unknown:function(q,p,t,r){(this["char"])(q,p,t,r,0);var s=q.font[q.n];if(s[5].a){r.a=s[5].a;if(t.a==null||r.a>t.a){t.a=r.a}}p=this.flushText(p,r,q.style);p.style.width=g.Em(s[2])},flushText:function(q,r,p){q=g.addElement(q,"mjx-charbox",{className:r.className,style:p},[r.text]);if(r.a){q.style.paddingBottom=g.Em(r.a)}r.text="";r.className=null;r.a=0;r.flushed=true;return q}},handleText:function(r,u,q,t){if(r.childNodes.length===0){g.addElement(r,"mjx-char");t=g.BBOX.empty(t)}if(typeof(q)==="string"){q=this.FONTDATA.VARIANT[q]}if(!q){q=this.FONTDATA.VARIANT[h.VARIANT.NORMAL]}var p={text:u,i:0,length:u.length},s=[];if(q.style&&p.length){s.push(this.styledText(q,u))}else{while(p.i<p.length){var v=this.getUnicode(p);s.push.apply(s,this.getCharList(q,v))}}if(s.length){this.addCharList(r.firstChild,s,t)}t.clean();if(t.d<0){t.D=t.d;t.d=0}if(t.h-t.a){r.firstChild.style[t.h-t.a<0?"marginTop":"paddingTop"]=this.Em(t.h-t.a)}if(t.d>-t.b){r.firstChild.style.paddingBottom=this.Em(t.d+t.b)}return t},createDelimiter:function(u,p,r,x,s){if(!p){var y=this.BBOX.zero();y.w=y.r=this.TEX.nulldelimiterspace;g.addElement(u,"mjx-box",{style:{width:y.w}});return y}if(!(r instanceof Array)){r=[r,r]}var w=r[1];r=r[0];var q={alias:p};while(q.alias){p=q.alias;q=this.FONTDATA.DELIMITERS[p];if(!q){q={HW:[0,this.FONTDATA.VARIANT[h.VARIANT.NORMAL]]}}}if(q.load){c.RestartAfter(i.Require(this.fontDir+"/TeX/fontdata-"+q.load+".js"))}for(var v=0,t=q.HW.length;v<t;v++){if(q.HW[v][0]>=r-0.01||(v==t-1&&!q.stretch)){if(q.HW[v][3]){p=q.HW[v][3]}y=this.createChar(u,[p,q.HW[v][1]],(q.HW[v][2]||1),s);y.offset=0.6*y.w;if(x){y.scale=x.scale;x.rscale=x.rscale}return y}}if(!q.stretch){return y}return this["extendDelimiter"+q.dir](u,w,q.stretch,x,s)},extendDelimiterV:function(B,u,J,t,z){B=g.addElement(B,"mjx-delim-v");var G=g.Element("span");var y,w,I,r,E,q,C,v,D=1;E=this.createChar(G,(J.top||J.ext),1,z);y=G.removeChild(G.firstChild);q=this.createChar(G,(J.bot||J.ext),1,z);w=G.removeChild(G.firstChild);C=v=g.BBOX.zero();var F=E.h+E.d+q.h+q.d;B.appendChild(y);if(J.mid){C=this.createChar(G,J.mid,1,z);I=G.removeChild(G.firstChild);F+=C.h+C.d;D=2}if(J.min&&u<F*J.min){u=F*J.min}if(u>F){v=this.createChar(G,J.ext,1,z);r=G.removeChild(G.firstChild);if(J.fullExtenders){var A=Math.ceil((u-F)/(D*(v.h+v.d)*0.9));u=0.9*A*D*(v.h+v.d)+F}var x=1.1*(u-F)/D+0.3;x/=(v.h+v.d);this.Transform(r,"translateY("+g.Em(-v.d+0.25-x*v.a)+") scaleY("+x.toFixed(3).replace(/0+$/,"")+")","left "+g.Em(v.d));r.style.paddingTop=r.style.paddingBottom=0;y.style.marginBottom=g.Em((u-F)/D);B.appendChild(r);if(J.mid){B.appendChild(I);I.style.marginBottom=y.style.marginBottom;B.appendChild(r.cloneNode(true))}}else{u=F-0.25;y.style.marginBottom="-.25em";if(J.mid){B.appendChild(I);I.style.marginBottom="-.3em";u-=0.1}}B.appendChild(w);var p=g.BBOX({w:Math.max(E.w,v.w,q.w,C.w),l:Math.min(E.l,v.l,q.l,C.l),r:Math.max(E.r,v.r,q.r,C.r),h:u-q.d,d:q.d,t:u-q.d,b:q.d});p.offset=0.5*p.w;if(t){p.scale=t.scale;p.rscale=t.rscale}return p},extendDelimiterH:function(D,q,K,u,B){D=g.addElement(D,"mjx-delim-h");var I=g.Element("span");var r,H,J,t,G,z,v,E,y,F=1;z=this.createChar(I,(K.left||K.rep),1,B);r=I.removeChild(I.firstChild);v=this.createChar(I,(K.right||K.rep),1,B);H=I.removeChild(I.firstChild);y=this.createChar(I,K.rep,1,B);t=I.removeChild(I.firstChild);D.appendChild(r);var L=g.BBOX.zero();L.h=Math.max(z.h,v.h);L.d=Math.max(z.d,v.d);r.style.marginLeft=g.Em(-z.l);r.style.marginRight=g.Em(z.r-z.w);H.style.marginleft=g.Em(-v.l);H.style.marginRight=g.Em(v.r-v.w);var x=(z.r-z.l)+(v.r-v.l)-0.05;if(K.mid){E=this.createChar(I,K.mid,1,B);J=I.removeChild(I.firstChild);x+=E.w;F=2;if(E.h>L.h){L.h=E.h}if(E.d>L.d){L.d=E.d}}if(K.min&&q<x*K.min){q=x*K.min}H.style.marginLeft=g.Em((q-x-v.l)/F);L.w=L.r=q;if(q>x){if(y.h>L.h){L.h=y.h}if(y.d>L.d){L.d=y.d}var A=(q-x)/F+0.2;A/=(y.r-y.l);this.Transform(t,"translateX("+g.Em(-y.l-0.1)+") scaleX("+A.toFixed(3).replace(/0+$/,"")+")",g.Em(y.l)+" center");t.style.width=0;D.appendChild(t);if(K.mid){D.appendChild(J);J.style.marginLeft=H.style.marginLeft;G=D.appendChild(t.cloneNode(true))}}else{if(K.mid){D.appendChild(J);J.style.marginLeft=g.Em((q-x)/F)}}D.appendChild(H);if(y.D){y.d=y.D}L.t=L.h;L.b=L.d;L.h=y.h;L.d=y.d;this.adjustHeights([r,t,J,G,H],L);var C=y.h-L.t-y.a,p=y.d-L.b+y.a;if(C){D.style.marginTop=g.Em(C)}if(p){D.style.marginBottom=g.Em(p)}if(u){L.scale=u.scale;L.rscale=u.rscale}return L},adjustHeights:function(q,u){var r=g.Em(u.t),t=g.Em(u.b);if(u.d<0){u.D=u.d;u.d=0;t=g.Em(-u.D+u.b)}for(var s=0,p=q.length;s<p;s++){if(q[s]){q[s].style.paddingTop=r;q[s].style.paddingBottom=t;q[s].style.marginTop=q[s].style.marginBottom=0}}},createChar:function(r,v,t,q){var y="",u={fonts:[v[1]],noRemap:true,cache:{}};if(q&&q===h.VARIANT.BOLD&&this.FONTDATA.FONTS[v[1]+"-Bold"]){u.fonts=[v[1]+"-Bold",v[1]]}if(typeof(v[1])!=="string"){u=v[1]}if(v[0] instanceof Array){for(var w=0,s=v[0].length;w<s;w++){y+=String.fromCharCode(v[0][w])}}else{y=String.fromCharCode(v[0])}if(v[4]){t*=v[4]}var x=this.handleText(r,y,u),p=r.firstChild.style;if(t!==1){p.fontSize=this.Percent(t)}if(v[2]){p.paddingLeft=this.Em(v[2]);x.w+=v[2];x.r+=v[2]}if(v[3]){p.verticalAlign=this.Em(v[3]);x.h+=v[3];if(x.h<0){x.h=0}}if(v[5]){p.marginTop=this.Em(v[5]);x.h+=v[5];x.t+=v[5]}if(v[6]){p.marginBottom=this.Em(v[6]);x.d+=v[6];x.b+=v[6]}return x},length2em:function(t,r,u){if(typeof(t)!=="string"){t=t.toString()}if(t===""){return""}if(t===h.SIZE.NORMAL){return 1}if(t===h.SIZE.BIG){return 2}if(t===h.SIZE.SMALL){return 0.71}if(this.MATHSPACE[t]){return this.MATHSPACE[t]}var q=t.match(/^\s*([-+]?(?:\.\d+|\d+(?:\.\d*)?))?(pt|em|ex|mu|px|pc|in|mm|cm|%)?/);var p=parseFloat(q[1]||"1"),s=q[2];if(r==null){r=1}if(!u){u=1}u=1/this.em/u;if(s==="em"){return p}if(s==="ex"){return p*this.TEX.x_height}if(s==="%"){return p/100*r}if(s==="px"){return p*u}if(s==="pt"){return p/10}if(s==="pc"){return p*1.2}u*=this.pxPerInch;if(s==="in"){return p*u}if(s==="cm"){return p*u/2.54}if(s==="mm"){return p*u/25.4}if(s==="mu"){return p/18}return p*r},thickness2em:function(p,q){var r=g.TEX.rule_thickness/(q||1);if(p===h.LINETHICKNESS.MEDIUM){return r}if(p===h.LINETHICKNESS.THIN){return 0.67*r}if(p===h.LINETHICKNESS.THICK){return 1.67*r}return this.length2em(p,r,q)},Em:function(p){if(Math.abs(p)<0.001){return"0"}return(p.toFixed(3).replace(/\.?0+$/,""))+"em"},unEm:function(p){return parseFloat(p)},Px:function(p){p*=this.em;if(Math.abs(p)<0.1){return"0"}return p.toFixed(1).replace(/\.0$/,"")+"px"},Percent:function(p){return(100*p).toFixed(1).replace(/\.?0+$/,"")+"%"},Transform:function(s,q,p){var r=s.style;r.transform=r.WebkitTransform=r.MozTransform=r["-ms-transform"]=q;if(p){r.transformOrigin=r.WebkitTransformOrigin=r.MozTransformOrigin=r["-ms-transform-origin"]=p}},arrayEntry:function(p,q){return p[Math.max(0,Math.min(q,p.length-1))]},removeStyles:["fontSize","fontFamily","fontWeight","fontStyle","fontVariant","font"]});g.BBOX=MathJax.Object.Subclass({Init:function(p){for(var q in p){if(p.hasOwnProperty(q)){this[q]=p[q]}}},clean:function(){if(this.h===-m){this.h=0}if(this.d===-m){this.d=0}if(this.l===m){this.l=0}if(this.r===-m){this.r=0}if(this.t===-m){this.t=0}if(this.b===-m){this.b=0}if(this.D&&this.d>0){delete this.D}},rescale:function(p){this.w*=p;this.h*=p;this.d*=p;this.l*=p;this.r*=p;this.t*=p;this.b*=p;if(this.L){this.L*=p}if(this.R){this.R*=p}if(this.D){this.D*=p}},combine:function(q,p,r){q.X=p;q.Y=r;scale=q.rscale;if(p+scale*q.r>this.r){this.r=p+scale*q.r}if(p+scale*q.l<this.l){this.l=p+scale*q.l}if(p+scale*(q.w+(q.L||0)+(q.R||0))>this.w){this.w=p+scale*(q.w+(q.L||0)+(q.R||0))}if(r+scale*q.h>this.h){this.h=r+scale*q.h}if(q.D&&(this.D==null||scale*q.D-r>this.D)&&scale*q.D>this.d){this.D=scale*q.D-r}else{if(q.D==null&&this.D){delete this.D}}if(scale*q.d-r>this.d){this.d=scale*q.d-r}if(r+scale*q.t>this.t){this.t=r+scale*q.t}if(scale*q.b-r>this.b){this.b=scale*q.b-r}},append:function(q){scale=q.rscale;var p=this.w;if(p+scale*q.r>this.r){this.r=p+scale*q.r}if(p+scale*q.l<this.l){this.l=p+scale*q.l}this.w+=scale*(q.w+(q.L||0)+(q.R||0));if(scale*q.h>this.h){this.h=scale*q.h}if(q.D&&(this.D==null||scale*q.D>this.D)&&scale*q.D>this.d){this.D=scale*q.D}else{if(q.D==null&&this.D){delete this.D}}if(scale*q.d>this.d){this.d=scale*q.d}if(scale*q.t>this.t){this.t=scale*q.t}if(scale*q.b>this.b){this.b=scale*q.b}},updateFrom:function(p){this.h=p.h;this.d=p.d;this.w=p.w;this.r=p.r;this.l=p.l;this.t=p.t;this.b=p.b;if(p.D){this.D=p.D}else{delete this.D}},adjust:function(q,p,s,r){this[p]+=g.length2em(q,1,this.scale);if(r==null){if(this[p]>this[s]){this[s]=this[p]}}else{if(this[s]<r){this[s]=r}}}},{zero:function(){return g.BBOX({h:0,d:0,w:0,l:0,r:0,t:0,b:0,scale:1,rscale:1})},empty:function(p){if(!p){p=g.BBOX.zero()}p.h=p.d=p.r=p.t=p.b=-m;p.w=0;p.l=m;return p},styleAdjust:[["borderTopWidth","h","t"],["borderRightWidth","w","r"],["borderBottomWidth","d","b"],["borderLeftWidth","w","l",0],["paddingTop","h","t"],["paddingRight","w","r"],["paddingBottom","d","b"],["paddingLeft","w","l",0],]});MathJax.Hub.Register.StartupHook("mml Jax Ready",function(){h=MathJax.ElementJax.mml;h.mbase.Augment({toCommonHTML:function(q,p){return this.CHTMLdefaultNode(q,p)},CHTMLmultiline:function(){h.mbase.CHTMLautoloadFile("multiline")},CHTMLdefaultNode:function(s,q){if(!q){q={}}s=this.CHTMLcreateNode(s);this.CHTML=g.BBOX.empty();this.CHTMLhandleStyle(s);this.CHTMLhandleScale(s);if(this.isToken){this.CHTMLgetVariant()}var p=Math.max((q.minChildren||0),this.data.length);for(var r=0;r<p;r++){this.CHTMLaddChild(s,r,q)}if(!q.noBBox){this.CHTML.clean()}this.CHTMLhandleSpace(s);this.CHTMLhandleBBox(s);this.CHTMLhandleColor(s);return s},CHTMLaddChild:function(u,q,p){var w=this.data[q],t;if(w){var r=p.childNodes;if(r){if(r instanceof Array){r=r[q]||"span"}u=g.addElement(u,r)}t=w.toCommonHTML(u,p.childOptions);if(r&&w.CHTML.rscale!==1){u.style.fontSize=u.firstChild.style.fontSize;u.firstChild.style.fontSize=""}if(!p.noBBox){var v=this.CHTML,s=w.CHTML;v.append(s);if(s.ic){v.ic=s.ic}else{delete v.ic}if(s.skew){v.skew=s.skew}if(s.pwidth){v.pwidth=s.pwidth}}}else{if(p.forceChild){t=g.addElement(u,"mjx-box")}}return t},CHTMLchildNode:function(q,p){q=q.childNodes[p];if(q.nodeName.toLowerCase()==="a"){q=q.firstChild}return q},CHTMLcoreNode:function(p){return this.CHTMLchildNode(p,this.CoreIndex())},CHTMLstretchChildV:function(s,r,u){var t=this.data[s];if(t){var v=this.CHTML,q=t.CHTML;if(q.stretch||(q.stretch==null&&t.CHTMLcanStretch("Vertical",r,u))){var p=q.w;q=t.CHTMLstretchV(r,u);v.w+=q.w-p;if(v.w>v.r){v.r=v.w}if(q.h>v.h){v.h=q.h}if(q.d>v.d){v.d=q.d}if(q.t>v.t){v.t=q.t}if(q.b>v.b){v.b=q.b}}}},CHTMLstretchChildH:function(s,p,t){var u=this.data[s];if(u){var v=this.CHTML,r=u.CHTML;if(r.stretch||(r.stretch==null&&u.CHTMLcanStretch("Horizontal",p))){var q=r.w;r=u.CHTMLstretchH(this.CHTMLchildNode(t,s),p);v.w+=r.w-q;if(v.w>v.r){v.r=v.w}if(r.h>v.h){v.h=r.h}if(r.d>v.d){v.d=r.d}if(r.t>v.t){v.t=r.t}if(r.b>v.b){v.b=r.b}}}},CHTMLcanStretch:function(t,r,s){var q=false;if(this.isEmbellished()){var p=this.Core();if(p&&p!==this){q=p.CHTMLcanStretch(t,r,s)}}this.CHTML.stretch=q;return q},CHTMLstretchV:function(p,q){this.CHTML.updateFrom(this.Core().CHTMLstretchV(p,q));return this.CHTML},CHTMLstretchH:function(q,p){this.CHTML.updateFrom(this.CHTMLstretchCoreH(q,p));return this.CHTML},CHTMLstretchCoreH:function(q,p){return this.Core().CHTMLstretchH(this.CHTMLcoreNode(q),p)},CHTMLcreateNode:function(p){if(!this.CHTML){this.CHTML={}}this.CHTML=g.BBOX.zero();if(this.href){p=g.addElement(p,"a",{href:this.href,isMathJax:true})}if(!this.CHTMLnodeID){this.CHTMLnodeID=g.GetID()}var q=(this.id||"MJXc-Node-"+this.CHTMLnodeID)+g.idPostfix;return this.CHTMLhandleAttributes(g.addElement(p,"mjx-"+this.type,{id:q}))},CHTMLnodeElement:function(){if(!this.CHTMLnodeID){return null}return document.getElementById((this.id||"MJXc-Node-"+this.CHTMLnodeID)+g.idPostfix)},CHTMLlength2em:function(q,p){return g.length2em(q,p,this.CHTML.scale)},CHTMLhandleAttributes:function(s){if(this["class"]){if(s.className){s.className+=" "+this["class"]}else{s.className=this["class"]}}if(this.attrNames){var w=this.attrNames,r=h.nocopyAttributes,v=c.config.ignoreMMLattributes;var t=(this.type==="mstyle"?h.math.prototype.defaults:this.defaults);for(var q=0,p=w.length;q<p;q++){var u=w[q];if(v[u]==false||(!r[u]&&!v[u]&&t[u]==null&&typeof(s[u])==="undefined")){s.setAttribute(u,this.attr[u])}}}return s},CHTMLhandleScale:function(r){var t=1,q=this.parent,s=(q?q.CHTML.scale:1);var p=this.getValues("scriptlevel","fontsize");p.mathsize=this.Get("mathsize",null,!this.isToken);if(p.scriptlevel!==0){if(p.scriptlevel>2){p.scriptlevel=2}t=Math.pow(this.Get("scriptsizemultiplier"),p.scriptlevel);p.scriptminsize=g.length2em(this.Get("scriptminsize"),0.8,1);if(t<p.scriptminsize){t=p.scriptminsize}}if(this.removedStyles&&this.removedStyles.fontSize&&!p.fontsize){p.fontsize=this.removedStyles.fontSize}if(p.fontsize&&!this.mathsize){p.mathsize=p.fontsize}if(p.mathsize!==1){t*=g.length2em(p.mathsize,1,1)}this.CHTML.scale=t;s=this.CHTML.rscale=t/s;if(Math.abs(s-1)<0.001){s=1}if(r&&s!==1){r.style.fontSize=g.Percent(s)}return t},CHTMLhandleStyle:function(s){if(!this.style){return}var r=s.style;r.cssText=this.style;this.removedStyles={};for(var q=0,p=g.removeStyles.length;q<p;q++){var t=g.removeStyles[q];if(r[t]){this.removedStyles[t]=r[t];r[t]=""}}},CHTMLhandleBBox:function(t){var q=this.CHTML,s=t.style;if(this.data.length===1&&(this.data[0].CHTML||{}).pwidth){q.pwidth=this.data[0].CHTML.pwidth;q.mwidth=this.data[0].CHTML.mwidth;s.width="100%"}else{if(q.pwidth){q.mwidth=q.w;s.width="100%"}}if(!this.style){return}for(var r=0,p=g.BBOX.styleAdjust.length;r<p;r++){var u=g.BBOX.styleAdjust[r];if(s[u[0]]){q.adjust(s[u[0]],u[1],u[2],u[3])}}},CHTMLhandleColor:function(p){if(this.mathcolor){p.style.color=this.mathcolor}else{if(this.color){p.style.color=this.color}}if(this.mathbackground){p.style.backgroundColor=this.mathbackground}else{if(this.background){p.style.backgroundColor=this.background}}},CHTMLhandleSpace:function(p){if(!this.useMMLspacing){var q=this.texSpacing();if(q!==""){this.CHTML.L=this.CHTMLlength2em(q);p.className+=" "+g.SPACECLASS[q]}}},CHTMLhandleText:function(q,r,p){if(q.firstChild&&!this.CHTML){this.CHTML=g.BBOX.empty()}this.CHTML=g.handleText(q,r,p,this.CHTML)},CHTMLgetVariant:function(){var p=this.getValues("mathvariant","fontfamily","fontweight","fontstyle"),r;p.hasVariant=this.Get("mathvariant",true);if(this.removedStyles){r=this.removedStyles;if(r.fontFamily){p.family=r.fontFamily}if(r.fontWeight){p.weight=r.fontWeight}if(r.fontStyle){p.style=r.fontStyle}}if(!p.hasVariant){if(p.fontfamily){p.family=p.fontfamily}if(p.fontweight){p.weight=p.fontweight}if(p.fontstyle){p.style=p.fontstyle}}if(p.weight&&p.weight.match(/^\d+$/)){p.weight=(parseInt(p.weight)>600?"bold":"normal")}var q=p.mathvariant;if(this.variantForm){q="-TeX-variant"}if(p.family&&!p.hasVariant){if(!p.weight&&p.mathvariant.match(/bold/)){p.weight="bold"}if(!p.style&&p.mathvariant.match(/italic/)){p.style="italic"}this.CHTMLvariant={fonts:[],noRemap:true,cache:{},style:{"font-family":p.family,"font-weight":p.weight,"font-style":p.style}};return}if(p.weight==="bold"){q={normal:h.VARIANT.BOLD,italic:h.VARIANT.BOLDITALIC,fraktur:h.VARIANT.BOLDFRAKTUR,script:h.VARIANT.BOLDSCRIPT,"sans-serif":h.VARIANT.BOLDSANSSERIF,"sans-serif-italic":h.VARIANT.SANSSERIFBOLDITALIC}[q]||q}else{if(p.weight==="normal"){q={bold:h.VARIANT.normal,"bold-italic":h.VARIANT.ITALIC,"bold-fraktur":h.VARIANT.FRAKTUR,"bold-script":h.VARIANT.SCRIPT,"bold-sans-serif":h.VARIANT.SANSSERIF,"sans-serif-bold-italic":h.VARIANT.SANSSERIFITALIC}[q]||q}}if(p.style==="italic"){q={normal:h.VARIANT.ITALIC,bold:h.VARIANT.BOLDITALIC,"sans-serif":h.VARIANT.SANSSERIFITALIC,"bold-sans-serif":h.VARIANT.SANSSERIFBOLDITALIC}[q]||q}else{if(p.style==="normal"){q={italic:h.VARIANT.NORMAL,"bold-italic":h.VARIANT.BOLD,"sans-serif-italic":h.VARIANT.SANSSERIF,"sans-serif-bold-italic":h.VARIANT.BOLDSANSSERIF}[q]||q}}this.CHTMLvariant=g.FONTDATA.VARIANT[q]||g.FONTDATA.VARIANT[h.VARIANT.NORMAL]},CHTMLbboxFor:function(p){if(this.data[p]&&this.data[p].CHTML){return this.data[p].CHTML}return g.BBOX.zero()},CHTMLdrawBBox:function(q,r){if(!r){r=this.CHTML}var p=g.Element("mjx-box",{style:{"font-size":q.style.fontSize,opacity:0.25,"margin-left":g.Em(-(r.w+(r.R||0)))}},[["mjx-box",{style:{height:g.Em(r.h),width:g.Em(r.w),"background-color":"red"}}],["mjx-box",{style:{height:g.Em(r.d),width:g.Em(r.w),"margin-left":g.Em(-r.w),"vertical-align":g.Em(-r.d),"background-color":"green"}}]]);if(q.nextSibling){q.parentNode.insertBefore(p,q.nextSibling)}else{q.parentNode.appendChild(p)}},CHTMLnotEmpty:function(p){while(p&&p.data.length<2&&(p.type==="mrow"||p.type==="texatom")){p=p.data[0]}return !!p}},{CHTMLautoload:function(){var p=g.autoloadDir+"/"+this.type+".js";c.RestartAfter(i.Require(p))},CHTMLautoloadFile:function(p){var q=g.autoloadDir+"/"+p+".js";c.RestartAfter(i.Require(q))},CHTMLstretchV:function(p,q){this.Core().CHTMLstretchV(p,q);this.toCommonHTML(this.CHTMLnodeElement(),true);return this.CHTML},CHTMLstretchH:function(q,p){this.CHTMLstretchCoreH(q,p);this.toCommonHTML(q,true);return this.CHTML}});h.chars.Augment({toCommonHTML:function(q,p){if(p==null){p={}}var r=this.toString();if(p.remap){r=p.remap(r,p.remapchars)}this.CHTMLhandleText(q,r,p.variant||this.parent.CHTMLvariant)}});h.entity.Augment({toCommonHTML:function(q,p){if(p==null){p={}}var r=this.toString();if(p.remapchars){r=p.remap(r,p.remapchars)}this.CHTMLhandleText(q,r,p.variant||this.parent.CHTMLvariant)}});h.math.Augment({toCommonHTML:function(u){u=this.CHTMLdefaultNode(u);var s=this.Get("alttext");if(s&&!u.getAttribute("aria-label")){u.setAttribute("aria-label",s)}if(!u.getAttribute("role")){u.setAttribute("role","math")}if(this.CHTML.pwidth){u.parentNode.style.width=this.CHTML.pwidth;u.parentNode.style.minWidth=this.CHTML.mwidth}else{if(!this.isMultiline&&this.Get("display")==="block"){var r=this.getValues("indentalignfirst","indentshiftfirst","indentalign","indentshift");if(r.indentalignfirst!==h.INDENTALIGN.INDENTALIGN){r.indentalign=r.indentalignfirst}if(r.indentalign===h.INDENTALIGN.AUTO){r.indentalign=n.displayAlign}if(r.indentshiftfirst!==h.INDENTSHIFT.INDENTSHIFT){r.indentshift=r.indentshiftfirst}if(r.indentshift==="auto"){r.indentshift="0"}var q=this.CHTMLlength2em(r.indentshift,g.cwidth);if(n.displayIndent!=="0"){var p=this.CHTMLlength2em(n.displayIndent,g.cwidth);q+=(r.indentalign===h.INDENTALIGN.RIGHT?-p:p)}var t=u.parentNode.parentNode.style;t.textAlign=r.indentalign;if(q){q*=g.em/g.outerEm;c.Insert(t,({left:{marginLeft:g.Em(q)},right:{marginRight:g.Em(-q)},center:{marginLeft:g.Em(q),marginRight:g.Em(-q)}})[r.indentalign])}}}return u}});h.mi.Augment({toCommonHTML:function(p){p=this.CHTMLdefaultNode(p);var r=this.CHTML,q=this.data.join("");if(r.skew!=null&&q.length!==1){delete r.skew}if(r.r>r.w&&q.length===1&&!this.CHTMLvariant.noIC){r.ic=r.r-r.w;r.w=r.r;p.lastChild.style.paddingRight=g.Em(r.ic)}return p}});h.mn.Augment({toCommonHTML:function(p){p=this.CHTMLdefaultNode(p);var r=this.CHTML,q=this.data.join("");if(r.skew!=null&&q.length!==1){delete r.skew}if(r.r>r.w&&q.length===1&&!this.CHTMLvariant.noIC){r.ic=r.r-r.w;r.w=r.r;p.lastChild.style.paddingRight=g.Em(r.ic)}return p}});h.mo.Augment({toCommonHTML:function(s){s=this.CHTMLcreateNode(s);this.CHTMLhandleStyle(s);this.CHTMLhandleScale(s);this.CHTMLgetVariant();g.BBOX.empty(this.CHTML);var q=this.getValues("displaystyle","largeop");q.variant=this.CHTMLvariant;q.text=this.data.join("");if(q.text==""){if(this.fence){s.style.width=g.Em(g.TEX.nulldelimiterspace)}}else{this.CHTMLadjustAccent(q);this.CHTMLadjustVariant(q);for(var r=0,p=this.data.length;r<p;r++){this.CHTMLaddChild(s,r,{childOptions:{variant:q.mathvariant,remap:this.remap,remapchars:q.remapchars}})}if(q.text.length!==1){delete this.CHTML.skew}else{if(this.CHTML.w===0&&this.CHTML.l<0){this.CHTMLfixCombiningChar(s)}}if(q.largeop){this.CHTMLcenterOp(s)}}this.CHTML.clean();this.CHTMLhandleBBox(s);this.CHTMLhandleSpace(s);this.CHTMLhandleColor(s);return s},CHTMLhandleSpace:function(s){if(this.useMMLspacing){var q=this.getValues("scriptlevel","lspace","rspace");q.lspace=Math.max(0,this.CHTMLlength2em(q.lspace));q.rspace=Math.max(0,this.CHTMLlength2em(q.rspace));if(q.scriptlevel>0){if(!this.hasValue("lspace")){q.lspace=0.15}if(!this.hasValue("rspace")){q.rspace=0.15}}var p=this,r=this.Parent();while(r&&r.isEmbellished()&&r.Core()===p){p=r;r=r.Parent();s=p.CHTMLnodeElement()}if(q.lspace){s.style.paddingLeft=g.Em(q.lspace)}if(q.rspace){s.style.paddingRight=g.Em(q.rspace)}this.CHTML.L=q.lspace;this.CHTML.R=q.rspace}else{this.SUPER(arguments).CHTMLhandleSpace.apply(this,arguments)}},CHTMLadjustAccent:function(r){var q=this.CoreParent();r.parent=q;if(r.text.length===1&&q&&q.isa(h.munderover)&&this.CoreText(q.data[q.base]).length===1){var s=q.data[q.over],p=q.data[q.under];if(s&&this===s.CoreMO()&&q.Get("accent")){r.remapchars=g.FONTDATA.REMAPACCENT}else{if(p&&this===p.CoreMO()&&q.Get("accentunder")){r.remapchars=g.FONTDATA.REMAPACCENTUNDER}}}},CHTMLadjustVariant:function(q){var p=q.parent,r=(p&&p.isa(h.msubsup)&&this!==p.data[p.base]);if(q.largeop){q.mathvariant=(q.displaystyle?"-largeOp":"-smallOp")}if(r){q.remapchars=this.remapChars;if(q.text.match(/['`"\u00B4\u2032-\u2037\u2057]/)){q.mathvariant="-TeX-variant"}}},CHTMLfixCombiningChar:function(p){p=p.firstChild;var q=g.Element("mjx-span",{style:{width:".25em","margin-left":"-.25em"}});p.insertBefore(q,p.firstChild)},CHTMLcenterOp:function(q){var s=this.CHTML;var r=(s.h-s.d)/2-g.TEX.axis_height;if(Math.abs(r)>0.001){q.style.verticalAlign=g.Em(-r)}s.h-=r;s.d+=r;if(s.r>s.w){s.ic=s.r-s.w;s.w=s.r;q.style.paddingRight=g.Em(s.ic)}},CHTMLcanStretch:function(t,r,s){if(!this.Get("stretchy")){return false}var u=this.data.join("");if(u.length!==1){return false}var q={text:u};this.CHTMLadjustAccent(q);if(q.remapchars){u=q.remapchars[u]||u}u=g.FONTDATA.DELIMITERS[u.charCodeAt(0)];var p=(u&&u.dir===t.substr(0,1));if(p){p=(this.CHTML.h!==r||this.CHTML.d!==s||!!this.Get("minsize",true)||!!this.Get("maxsize",true));if(p){this.CHTML.stretch=true}}return p},CHTMLstretchV:function(s,v){var t=this.CHTMLnodeElement(),u=this.CHTML;var q=this.getValues("symmetric","maxsize","minsize");var r,p=g.TEX.axis_height;if(q.symmetric){r=2*Math.max(s-p,v+p)}else{r=s+v}q.maxsize=this.CHTMLlength2em(q.maxsize,u.h+u.d);q.minsize=this.CHTMLlength2em(q.minsize,u.h+u.d);r=Math.max(q.minsize,Math.min(q.maxsize,r));if(r!==u.sH){if(r!=q.minsize){r=[Math.max(r*g.TEX.delimiterfactor/1000,r-g.TEX.delimitershortfall),r]}while(t.firstChild){t.removeChild(t.firstChild)}this.CHTML=u=g.createDelimiter(t,this.data.join("").charCodeAt(0),r,u);u.sH=(r instanceof Array?r[1]:r);if(q.symmetric){r=(u.h+u.d)/2+p}else{r=(u.h+u.d)*s/(s+v)}r-=u.h;if(Math.abs(r)>0.05){t.style.verticalAlign=g.Em(r);u.h+=r;u.d-=r;u.t+=r;u.b-=r}}return this.CHTML},CHTMLstretchH:function(r,p){var s=this.CHTML;var q=this.getValues("maxsize","minsize","mathvariant","fontweight");if((q.fontweight==="bold"||(this.removedStyles||{}).fontWeight==="bold"||parseInt(q.fontweight)>=600)&&!this.Get("mathvariant",true)){q.mathvariant=h.VARIANT.BOLD}q.maxsize=this.CHTMLlength2em(q.maxsize,s.w);q.minsize=this.CHTMLlength2em(q.minsize,s.w);p=Math.max(q.minsize,Math.min(q.maxsize,p));if(p!==s.sW){while(r.firstChild){r.removeChild(r.firstChild)}this.CHTML=s=g.createDelimiter(r,this.data.join("").charCodeAt(0),p,s,q.mathvariant);s.sW=p}return this.CHTML}});h.mtext.Augment({CHTMLgetVariant:function(){if(g.config.mtextFontInherit||this.Parent().type==="merror"){var r=(g.config.scale/100)/g.scale;var q={cache:{},fonts:[],className:"MJXc-font-inherit",rscale:r,style:{"font-size":g.Percent(r)}};var p=this.Get("mathvariant");if(p.match(/bold/)){q.style["font-weight"]="bold"}if(p.match(/italic|-tex-mathit/)){q.style["font-style"]="italic"}if(p==="monospace"){q.className+=" MJXc-monospace-font"}if(p==="double-struck"){q.className+=" MJXc-double-struck-font"}if(p.match(/fraktur/)){q.className+=" MJXc-fraktur-font"}if(p.match(/sans-serif/)){q.className+=" MJXc-sans-serif-font"}if(p.match(/script/)){q.className+=" MJXc-script-font"}this.CHTMLvariant=q}else{this.SUPER(arguments).CHTMLgetVariant.call(this)}}});h.merror.Augment({toCommonHTML:function(p){p=this.CHTMLdefaultNode(p);var q=this.CHTML;q.rescale(0.9);q.h+=3/g.em;if(q.h>q.t){q.t=q.h}q.d+=3/g.em;if(q.d>q.b){q.b=q.d}q.w+=8/g.em;q.r=q.w;q.l=0;return p}});h.mspace.Augment({toCommonHTML:function(s){s=this.CHTMLcreateNode(s);this.CHTMLhandleStyle(s);this.CHTMLhandleScale(s);var q=this.getValues("height","depth","width");var p=this.CHTMLlength2em(q.width),r=this.CHTMLlength2em(q.height),u=this.CHTMLlength2em(q.depth);var t=this.CHTML;t.w=t.r=p;t.h=t.t=r;t.d=t.b=u;t.l=0;if(p<0){s.style.marginRight=g.Em(p);p=0}s.style.width=g.Em(p);s.style.height=g.Em(r+u);if(u){s.style.verticalAlign=g.Em(-u)}this.CHTMLhandleBBox(s);this.CHTMLhandleColor(s);return s}});h.mpadded.Augment({toCommonHTML:function(r,p){var q;if(p){r=r.firstChild;q=r.firstChild}else{r=this.CHTMLdefaultNode(r,{childNodes:"mjx-box",forceChild:true});q=r.firstChild;r=g.addElement(r,"mjx-block");r.appendChild(q);g.addElement(r,"mjx-strut")}var u=this.CHTMLbboxFor(0);var B=this.getValues("width","height","depth","lspace","voffset");var z=0,v=0,A=u.w,s=u.h,t=u.d;q.style.width=0;q.style.margin=g.Em(-s)+" 0 "+g.Em(-t);if(B.width!==""){A=this.CHTMLdimen(B.width,"w",A,0)}if(B.height!==""){s=this.CHTMLdimen(B.height,"h",s,0)}if(B.depth!==""){t=this.CHTMLdimen(B.depth,"d",t,0)}if(B.voffset!==""){v=this.CHTMLdimen(B.voffset);if(v){q.style.position="relative";q.style.top=g.Em(-v)}}if(B.lspace!==""){z=this.CHTMLdimen(B.lspace);if(z){q.style.position="relative";q.style.left=g.Em(z)}}r.style.width=0;r.style.marginTop=g.Em(s-e);r.style.padding="0 "+g.Em(A)+" "+g.Em(t)+" 0";var C=g.BBOX({w:A,h:s,d:t,l:0,r:A,t:s,b:t,scale:this.CHTML.scale,rscale:this.CHTML.rscale});C.combine(u,z,v);C.w=A;C.h=s;C.d=t;this.CHTML=C;return r.parentNode},CHTMLstretchV:h.mbase.CHTMLstretchV,CHTMLstretchH:h.mbase.CHTMLstretchH,CHTMLdimen:function(t,v,u,p){if(p==null){p=-m}t=String(t);var q=t.match(/width|height|depth/);var r=(q?this.CHTML[q[0].charAt(0)]:(v?this.CHTML[v]:0));var s=(this.CHTMLlength2em(t,r)||0);if(t.match(/^[-+]/)&&u!=null){s+=u}if(p!=null){s=Math.max(p,s)}return s}});h.munderover.Augment({toCommonHTML:function(t,p){var B=this.getValues("displaystyle","accent","accentunder","align");if(!B.displaystyle&&this.data[this.base]!=null&&this.data[this.base].CoreMO().Get("movablelimits")){return h.msubsup.prototype.toCommonHTML.call(this,t,p)}var r,y,w,q=[];if(p){r=g.getNode(t,"mjx-op");y=g.getNode(t,"mjx-under");w=g.getNode(t,"mjx-over");q[0]=r;q[1]=y||w;q[2]=w}else{var v=["mjx-op","mjx-under","mjx-over"];if(this.over===1){v[1]=v[2]}t=this.CHTMLdefaultNode(t,{childNodes:v,noBBox:true,forceChild:true,minChildren:2});q[0]=r=t.removeChild(t.firstChild);q[1]=y=w=t.removeChild(t.firstChild);if(t.firstChild){q[2]=w=t.removeChild(t.firstChild)}}var u=[],s=this.CHTMLgetBBoxes(u,q,B);var C=u[this.base],z=this.CHTML;z.w=s;z.h=C.h;z.d=C.d;var x=r,A=0;if(C.ic){A=1.3*C.ic+0.05}if(this.data[this.over]){x=this.CHTMLaddOverscript(w,u,B,A,r,p)}if(this.data[this.under]){this.CHTMLaddUnderscript(y,u,B,A,t,x,p)}else{if(!p){t.appendChild(x)}}this.CHTMLplaceBoxes(r,y,w,B,u);return t},CHTMLgetBBoxes:function(x,t,s){var u,q=this.data.length,v,r=-m,p=r;for(u=0;u<q;u++){x[u]=this.CHTMLbboxFor(u);x[u].x=x[u].y=0;if(this.data[u]){x[u].stretch=this.data[u].CHTMLcanStretch("Horizontal")}v=(u===this.base?1:x[u].rscale);p=Math.max(p,v*(x[u].w+(x[u].L||0)+(x[u].R||0)));if(!x[u].stretch&&p>r){r=p}}if(r===-m){r=p}for(u=0;u<q;u++){if(x[u].stretch){v=(u===this.base?1:x[u].rscale);x[u]=this.data[u].CHTMLstretchH(t[u].firstChild,r/v);x[u].x=x[u].y=0;p=Math.max(p,v*(x[u].w+(x[u].L||0)+(x[u].R||0)))}}if(!x[this.base]){x[this.base]=g.BBOX.empty()}return p},CHTMLaddOverscript:function(y,w,C,B,q,p){var A=this.CHTML;var v,u,t=g.TEX.big_op_spacing5,s;var x=w[this.over],D=w[this.base],r=x.rscale;if(!p){var z=g.Element("mjx-stack");z.appendChild(y);z.appendChild(q)}if(x.D){x.d=x.D}if(x.d<0){y.firstChild.style.verticalAlign="top";y.style.height=g.Em(x.h+x.d)}x.x=0;if(C.accent){if(x.w<0.001){x.x+=(x.r-x.l)/2}s=g.TEX.rule_thickness;t=0;if(D.skew){x.x+=r*D.skew;A.skew=r*D.skew;if(x.x+r*x.w>A.w){A.skew+=(A.w-(x.x+r*x.w))/2}}}else{v=g.TEX.big_op_spacing1;u=g.TEX.big_op_spacing3;s=Math.max(v,u-Math.max(0,r*x.d))}x.x+=B/2;x.y=A.h+s+t+r*x.d;if(s){y.style.paddingBottom=g.Em(s/r)}if(t){y.style.paddingTop=g.Em(t/r)}return z},CHTMLaddUnderscript:function(y,w,B,A,q,x,p){var z=this.CHTML;var v,u,t=g.TEX.big_op_spacing5,s;var C=w[this.under],r=C.rscale;if(!p){g.addElement(q,"mjx-itable",{},[["mjx-row",{},[["mjx-cell"]]],["mjx-row"]]);q.firstChild.firstChild.firstChild.appendChild(x);q.firstChild.lastChild.appendChild(y)}if(C.D){C.d=C.D}if(C.d<0){y.firstChild.style.verticalAlign="top";q.firstChild.style.marginBottom=g.Em(C.d)}if(B.accentunder){s=2*g.TEX.rule_thickness;t=0}else{v=g.TEX.big_op_spacing2;u=g.TEX.big_op_spacing4;s=Math.max(v,u-r*C.h)}C.x=-A/2;C.y=-(z.d+s+t+r*C.h);if(s){y.style.paddingTop=g.Em(s/r)}if(t){y.style.paddingBottom=g.Em(t/r)}},CHTMLplaceBoxes:function(p,y,x,B,v){var q=this.CHTML.w,u,s=v.length,t;var A=g.BBOX.zero();A.scale=this.CHTML.scale;A.rscale=this.CHTML.rscale;v[this.base].x=v[this.base].y=0;var C=m;for(u=0;u<s;u++){t=(u===this.base?1:v[u].rscale);var z=t*(v[u].w+(v[u].L||0)+(v[u].R||0));v[u].x+={left:0,center:(q-z)/2,right:q-z}[B.align];if(v[u].x<C){C=v[u].x}}for(u=0;u<s;u++){if(this.data[u]){t=(u===this.base?1:v[u].rscale);if(v[u].x-C){var r=(u===this.base?p:u===this.over?x:y);r.style.paddingLeft=g.Em((v[u].x-C)/t)}A.combine(v[u],v[u].x-C,v[u].y)}}this.CHTML=A},CHTMLstretchV:h.mbase.CHTMLstretchV,CHTMLstretchH:h.mbase.CHTMLstretchH});h.msubsup.Augment({toCommonHTML:function(R,X){var A=this.getValues("displaystyle","subscriptshift","superscriptshift","texprimestyle");var C,G,z;if(X){C=g.getNode(R,"mjx-base");G=g.getNode(R,"mjx-sub");z=g.getNode(R,"mjx-sup")}else{var J=["mjx-base","mjx-sub","mjx-sup"];if(this.sup===1){J[1]=J[2]}R=this.CHTMLdefaultNode(R,{childNodes:J,noBBox:true,forceChild:true,minChildren:3});C=R.childNodes[this.base];G=R.childNodes[this.sub];z=R.childNodes[this.sup];if(!this.CHTMLnotEmpty(this.data[this.sub])){R.removeChild(G);G=null}if(!this.CHTMLnotEmpty(this.data[this.sup])){R.removeChild(z);z=null}if(R.childNodes.length===3){var D=g.addElement(R,"mjx-stack");D.appendChild(z);D.appendChild(G)}}var E=[],F=g.BBOX.empty(this.CHTML);for(var U=0,S=this.data.length;U<S;U++){E[U]=this.CHTMLbboxFor(U)}var y=E[this.base]||g.BBOX.empty(),O=E[this.sub],V=E[this.sup];var B=(G?O.rscale:1),w=(z?V.rscale:1);F.combine(y,0,0);var W=g.TEX.x_height,M=g.TEX.scriptspace;var P=g.TEX.sup_drop*w,N=g.TEX.sub_drop*B;var K=y.h-P,I=y.d+N,Y=0,Q;if(y.ic){F.w-=y.ic;C.style.marginRight=g.Em(-y.ic);Y=1.3*y.ic+0.05}var T=this.data[this.base];if(T){if((T.type==="mrow"||T.type==="mstyle")&&T.data.length===1){T=T.data[0]}if(T.type==="mi"||T.type==="mo"){if(T.data.join("").length===1&&y.rscale===1&&!y.sH&&!T.Get("largeop")){K=I=0}}}A.subscriptshift=(A.subscriptshift===""?0:this.CHTMLlength2em(A.subscriptshift));A.superscriptshift=(A.superscriptshift===""?0:this.CHTMLlength2em(A.superscriptshift));var H=F.w;if(G){O.w+=M}if(z){V.w+=M}if(!z){if(G){I=Math.max(I,g.TEX.sub1,B*O.h-(4/5)*W,A.subscriptshift);G.style.verticalAlign=g.Em(-I/B);G.style.paddingRight=g.Em(M/B);F.combine(O,H,-I)}}else{if(!G){Q=g.TEX[(A.displaystyle?"sup1":(A.texprimestyle?"sup3":"sup2"))];K=Math.max(K,Q,w*V.d+(1/4)*W,A.superscriptshift);z.style.verticalAlign=g.Em(K/w);z.style.paddingLeft=g.Em(Y/w);z.style.paddingRight=g.Em(M/w);F.combine(V,H+Y,K)}else{I=Math.max(I,g.TEX.sub2);var L=g.TEX.rule_thickness;if((K-w*V.d)-(B*O.h-I)<3*L){I=3*L-K+w*V.d+B*O.h;P=(4/5)*W-(K-w*V.d);if(P>0){K+=P;I-=P}}K=Math.max(K,A.superscriptshift);I=Math.max(I,A.subscriptshift);G.style.paddingRight=g.Em(M/B);z.style.paddingBottom=g.Em(K/w+I/B-V.d-O.h/B*w);z.style.paddingLeft=g.Em(Y/w);z.style.paddingRight=g.Em(M/w);D.style.verticalAlign=g.Em(-I);F.combine(V,H+Y,K);F.combine(O,H,-I)}}F.clean();return R},CHTMLstretchV:h.mbase.CHTMLstretchV,CHTMLstretchH:h.mbase.CHTMLstretchH});h.mfrac.Augment({toCommonHTML:function(L){L=this.CHTMLdefaultNode(L,{childNodes:["mjx-numerator","mjx-denominator"],forceChild:true,noBBox:true,minChildren:2});var w=this.getValues("linethickness","displaystyle","numalign","denomalign","bevelled");var M=w.displaystyle;var B=L.firstChild,s=L.lastChild;var x=g.addElement(L,"mjx-box");x.appendChild(B);x.appendChild(s);L.appendChild(x);if(w.numalign!=="center"){B.style.textAlign=w.numalign}if(w.denomalign!=="center"){s.style.textAlign=w.denomalign}var N=this.CHTMLbboxFor(0),z=this.CHTMLbboxFor(1),A=g.BBOX.empty(this.CHTML),D=N.rscale,y=z.rscale;w.linethickness=Math.max(0,g.thickness2em(w.linethickness||"0",A.scale));var K=g.TEX.min_rule_thickness/g.em,R=g.TEX.axis_height;var G=w.linethickness,J,I,F,E;if(w.bevelled){x.className+=" MJXc-bevelled";var Q=(M?0.4:0.15);var C=Math.max(D*(N.h+N.d),y*(z.h+z.d))+2*Q;var P=g.Element("mjx-bevel");x.insertBefore(P,s);var r=g.createDelimiter(P,47,C);F=D*(N.d-N.h)/2+R+Q;E=y*(z.d-z.h)/2+R-Q;if(F){B.style.verticalAlign=g.Em(F/D)}if(E){s.style.verticalAlign=g.Em(E/y)}P.style.marginLeft=P.style.marginRight=g.Em(-Q/2);A.combine(N,0,F);A.combine(r,D*N.w-Q/2,0);A.combine(z,D*N.w+r.w-Q,E);A.clean()}else{if(M){F=g.TEX.num1;E=g.TEX.denom1}else{F=(G===0?g.TEX.num3:g.TEX.num2);E=g.TEX.denom2}if(G===0){J=Math.max((M?7:3)*g.TEX.rule_thickness,2*K);I=(F-N.d*D)-(z.h*y-E);if(I<J){F+=(J-I)/2;E+=(J-I)/2}x.style.verticalAlign=g.Em(-E)}else{J=Math.max((M?2:0)*K+G,G/2+1.5*K);G=Math.max(G,K);I=(F-N.d*D)-(R+G/2);if(I<J){F+=(J-I)}I=(R-G/2)-(z.h*y-E);if(I<J){E+=(J-I)}x.style.verticalAlign=g.Em(G/2-E);B.style.borderBottom=g.Px(G/D*N.scale)+" solid";B.className+=" MJXc-fpad";N.L=N.R=0.1;s.className+=" MJXc-fpad";z.L=z.R=0.1}A.combine(N,0,F);A.combine(z,0,-E);A.clean();F-=D*N.d+R+G/2;E-=y*z.h-R+G/2;if(F){B.style[F>0?"paddingBottom":"marginBottom"]=g.Em(F/D)}if(E){s.style[E>0?"paddingTop":"marginTop"]=g.Em(E/y)}}if(!this.texWithDelims&&!this.useMMLspacing){var O=g.TEX.nulldelimiterspace;x.style.padding="0 "+g.Em(O);A.l+=O;A.r+=O;A.w+=2*O}return L},CHTMLcanStretch:function(p){return false}});h.msqrt.Augment({toCommonHTML:function(v){v=this.CHTMLdefaultNode(v,{childNodes:["mjx-box","mjx-root"],forceChild:true,noBBox:true});var u=v.firstChild||g.Element("mjx-box");var D=g.addElement(v,"mjx-box");D.appendChild(u);var E=this.CHTMLbboxFor(0),B=g.BBOX.empty(this.CHTML);var F=g.TEX.rule_thickness,w=g.TEX.surd_height,s=F,r,C;if(this.Get("displaystyle")){s=g.TEX.x_height}r=F+s/4;C=E.h+E.d+r+F;var y=g.Element("mjx-surd");D.insertBefore(y,u);var z=g.createDelimiter(y,8730,[C-0.04,C]);if(z.h+z.d>C){r=((z.h+z.d)-(C-F))/2}C=E.h+r+F;var A=this.CHTMLaddRoot(v,z,z.h+z.d-C);u.style.paddingTop=g.Em(r);u.style.borderTop=g.Px(w*E.scale)+" solid";D.style.paddingTop=g.Em(2*F-w);E.h+=r+2*F;B.combine(z,A,C-z.h);B.combine(E,A+z.w,0);B.clean();return v},CHTMLaddRoot:function(){return 0}});h.mroot.Augment({toCommonHTML:h.msqrt.prototype.toCommonHTML,CHTMLaddRoot:function(x,r,s){if(!this.data[1]){return}var v=this.CHTML,y=this.data[1].CHTML,t=x.firstChild;var p=y.rscale;var q=this.CHTMLrootHeight(y,r,p)-s;var u=Math.min(y.w,y.r);var z=Math.max(u,r.offset/p);if(q){t.style.verticalAlign=g.Em(q/p)}if(z>u){t.firstChild.style.paddingLeft=g.Em(z-u)}z-=r.offset/p;t.style.width=g.Em(z);v.combine(y,0,q);return z*p},CHTMLrootHeight:function(r,p,q){return 0.45*(p.h+p.d-0.9)+p.offset+Math.max(0,r.d-0.075)}});h.mfenced.Augment({toCommonHTML:function(s){s=this.CHTMLcreateNode(s);this.CHTMLhandleStyle(s);this.CHTMLhandleScale(s);this.CHTMLaddChild(s,"open",{});for(var r=0,p=this.data.length;r<p;r++){this.CHTMLaddChild(s,"sep"+r,{});this.CHTMLaddChild(s,r,{})}this.CHTMLaddChild(s,"close",{});var q=this.CHTML.h,t=this.CHTML.d;this.CHTMLstretchChildV("open",q,t);for(r=0,p=this.data.length;r<p;r++){this.CHTMLstretchChildV("sep"+r,q,t);this.CHTMLstretchChildV(r,q,t)}this.CHTMLstretchChildV("close",q,t);this.CHTMLhandleSpace(s);this.CHTMLhandleBBox(s);this.CHTMLhandleColor(s);return s}});h.mrow.Augment({toCommonHTML:function(s){s=this.CHTMLdefaultNode(s);var v=this.CHTML,r=v.h,t=v.d,u;for(var q=0,p=this.data.length;q<p;q++){this.CHTMLstretchChildV(q,r,t);if(this.data[q]&&this.data[q].CHTML&&this.data[q].CHTML.w<0){u=true}}if(this.CHTMLlineBreaks()){this.CHTMLmultiline(s)}else{if(u&&v.w){s.style.width=g.Em(Math.max(0,v.w))}if(v.w<0){s.style.marginRight=g.Em(v.w)}}return s},CHTMLlineBreaks:function(){if(!this.parent.linebreakContainer){return false}return(k.automatic&&this.CHTML.w>g.linebreakWidth)||this.hasNewline()},CHTMLstretchV:function(p,q){this.CHTMLstretchChildV(this.CoreIndex(),p,q);return this.CHTML},CHTMLstretchH:function(q,p){this.CHTMLstretchChildH(this.CoreIndex(),p,q);return this.CHTML}});h.mstyle.Augment({toCommonHTML:function(p){p=this.CHTMLdefaultNode(p);if(this.scriptlevel&&this.data[0]){this.CHTML.rescale(this.data[0].CHTML.rscale)}return p}});h.TeXAtom.Augment({toCommonHTML:function(t,r){if(!r){t=this.CHTMLdefaultNode(t)}if(this.texClass===h.TEXCLASS.VCENTER){var p=g.TEX.axis_height,s=this.CHTML;var q=p-(s.h+s.d)/2+s.d;if(Math.abs(q)>0.001){t.style.verticalAlign=g.Em(q);s.h+=q;s.t+=q;s.d-=q;s.b-=q}}return t},CHTMLstretchV:function(p,q){this.CHTML.updateFrom(this.Core().CHTMLstretchV(p,q));this.toCommonHTML(this.CHTMLnodeElement(),true);return this.CHTML},CHTMLstretchH:function(q,p){this.CHTML.updateFrom(this.CHTMLstretchCoreH(q,p));this.toCommonHTML(q,true);return this.CHTML}});h.semantics.Augment({toCommonHTML:function(p){p=this.CHTMLcreateNode(p);if(this.data[0]){this.data[0].toCommonHTML(p);this.CHTML.updateFrom(this.data[0].CHTML)}return p}});h.annotation.Augment({toCommonHTML:function(p){return this.CHTMLcreateNode(p)}});h["annotation-xml"].Augment({toCommonHTML:h.mbase.CHTMLautoload});h.ms.Augment({toCommonHTML:h.mbase.CHTMLautoload});h.mglyph.Augment({toCommonHTML:h.mbase.CHTMLautoload});h.menclose.Augment({toCommonHTML:h.mbase.CHTMLautoload});h.maction.Augment({toCommonHTML:h.mbase.CHTMLautoload});h.mmultiscripts.Augment({toCommonHTML:h.mbase.CHTMLautoload});h.mtable.Augment({toCommonHTML:h.mbase.CHTMLautoload});MathJax.Hub.Register.StartupHook("onLoad",function(){setTimeout(MathJax.Callback(["loadComplete",g,"jax.js"]),0)})});MathJax.Hub.Register.StartupHook("End Cookie",function(){if(c.config.menuSettings.zoom!=="None"){i.Require("[MathJax]/extensions/MathZoom.js")}})})(MathJax.Ajax,MathJax.Hub,MathJax.HTML,MathJax.OutputJax.CommonHTML);
