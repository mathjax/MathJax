!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sreReady=void 0;const i=n(8),a="undefined"==typeof window?"./a11y/sre-node.js":"../../../speech-rule-engine/lib/sre_browser.js",r="undefined"==typeof sre?i.asyncLoad(a):Promise.resolve();t.sreReady=function(){return new Promise((e,t)=>{r.then(()=>{const n=(new Date).getTime(),i=function(){sre.Engine.isReady()?e():(new Date).getTime()-n<2e4?setTimeout(i,100):t("Timed out waiting for Speech-Rule-Engine")};i()}).catch(e=>t(e.message||e))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=MathJax._.components.global.isObject,t.combineConfig=MathJax._.components.global.combineConfig,t.combineDefaults=MathJax._.components.global.combineDefaults,t.combineWithMathJax=MathJax._.components.global.combineWithMathJax,t.MathJax=MathJax._.components.global.MathJax},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnrichHandler=t.EnrichedMathDocumentMixin=t.EnrichedMathItemMixin=void 0;const i=n(4),a=n(5),r=n(6),o=n(7),s=n(0);let c="none";function h(e,t,n){return class extends e{serializeMml(e){if("outerHTML"in e)return e.outerHTML;if("undefined"!=typeof Element&&"undefined"!=typeof window&&e instanceof Element){const t=window.document.createElement("div");return t.appendChild(e),t.innerHTML}return e.toString()}enrich(e,r=!1){if(!(this.state()>=a.STATE.ENRICHED)){if(!this.isEscaped&&(e.options.enableEnrichment||r)){"undefined"!=typeof sre&&sre.Engine.isReady()||i.mathjax.retryAfter(s.sreReady()),e.options.enrichSpeech!==c&&(SRE.setupEngine({speech:e.options.enrichSpeech}),c=e.options.enrichSpeech);const a=new e.options.MathItem("",t);a.math=this.serializeMml(SRE.toEnriched(n(this.root))),a.display=this.display,a.compile(e),this.root=a.root,this.inputData.originalMml=a.math}this.state(a.STATE.ENRICHED)}}attachSpeech(e){if(this.state()>=a.STATE.ATTACHSPEECH)return;const t=this.root.attributes.get("aria-label")||this.getSpeech(this.root);if(t){const n=e.adaptor,i=this.typesetRoot;n.setAttribute(i,"aria-label",t);for(const e of n.childNodes(i))n.setAttribute(e,"aria-hidden","true")}this.state(a.STATE.ATTACHSPEECH)}getSpeech(e){const t=e.attributes;if(!t)return"";const n=t.getExplicit("data-semantic-speech");if(!t.getExplicit("data-semantic-parent")&&n)return n;for(let t of e.childNodes){let e=this.getSpeech(t);if(null!=e)return e}return""}}}function u(e,t){var n;return(n=class extends e{constructor(...e){super(...e),t.setMmlFactory(this.mmlFactory);const n=this.constructor.ProcessBits;n.has("enriched")||(n.allocate("enriched"),n.allocate("attach-speech"));const i=new r.SerializedMmlVisitor(this.mmlFactory);this.options.MathItem=h(this.options.MathItem,t,e=>i.visitTree(e))}attachSpeech(){if(!this.processed.isSet("attach-speech")){for(const e of this.math)e.attachSpeech(this);this.processed.set("attach-speech")}return this}enrich(){if(!this.processed.isSet("enriched")){if(this.options.enableEnrichment)for(const e of this.math)e.enrich(this);this.processed.set("enriched")}return this}state(e,t=!1){return super.state(e,t),e<a.STATE.ENRICHED&&this.processed.clear("enriched"),this}}).OPTIONS=Object.assign(Object.assign({},e.OPTIONS),{enableEnrichment:!0,enrichSpeech:"none",renderActions:o.expandable(Object.assign(Object.assign({},e.OPTIONS.renderActions),{enrich:[a.STATE.ENRICHED],attachSpeech:[a.STATE.ATTACHSPEECH]}))}),n}a.newState("ENRICHED",30),a.newState("ATTACHSPEECH",155),t.EnrichedMathItemMixin=h,t.EnrichedMathDocumentMixin=u,t.EnrichHandler=function(e,t){return t.setAdaptor(e.adaptor),e.documentClass=u(e.documentClass,t),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MathML=MathJax._.input.mathml_ts.MathML},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mathjax=MathJax._.mathjax.mathjax},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.protoItem=MathJax._.core.MathItem.protoItem,t.AbstractMathItem=MathJax._.core.MathItem.AbstractMathItem,t.STATE=MathJax._.core.MathItem.STATE,t.newState=MathJax._.core.MathItem.newState},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DATAMJX=MathJax._.core.MmlTree.SerializedMmlVisitor.DATAMJX,t.toEntity=MathJax._.core.MmlTree.SerializedMmlVisitor.toEntity,t.SerializedMmlVisitor=MathJax._.core.MmlTree.SerializedMmlVisitor.SerializedMmlVisitor},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APPEND=MathJax._.util.Options.APPEND,t.REMOVE=MathJax._.util.Options.REMOVE,t.Expandable=MathJax._.util.Options.Expandable,t.expandable=MathJax._.util.Options.expandable,t.makeArray=MathJax._.util.Options.makeArray,t.keys=MathJax._.util.Options.keys,t.copy=MathJax._.util.Options.copy,t.insert=MathJax._.util.Options.insert,t.defaultOptions=MathJax._.util.Options.defaultOptions,t.userOptions=MathJax._.util.Options.userOptions,t.selectOptions=MathJax._.util.Options.selectOptions,t.selectOptionsFromKeys=MathJax._.util.Options.selectOptionsFromKeys,t.separateOptions=MathJax._.util.Options.separateOptions},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asyncLoad=MathJax._.util.AsyncLoad.asyncLoad},function(e,t,n){"use strict";n.r(t);var i=n(1),a=n(2),r=n(0);Object(i.combineWithMathJax)({_:{a11y:{"semantic-enrich":a,sre:r}}});var o=n(3);MathJax.loader&&Object(i.combineDefaults)(MathJax.config.loader,"a11y/semantic-enrich",{checkReady:function(){return Object(r.sreReady)()}}),MathJax.startup&&MathJax.startup.extendHandler((function(e){return Object(a.EnrichHandler)(e,new o.MathML)}))}]);